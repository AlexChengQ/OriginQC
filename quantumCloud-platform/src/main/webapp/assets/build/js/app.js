$(function(){$(document).off("click.bs.dropdown.data-api"),$(".nav .dropdown").mouseenter(function(e,t){$(this).addClass("open"),$(".dropdown-menu").eq(0).css({"text-align":"center",right:"-100px"}),$(".dropdown-menu").eq(1).css({"text-align":"center",right:"8px"}),$(".dropdown-menu").eq(2).css({"text-align":"center",right:"-36px"}),$(".dropdown-menu").eq(3).css({"text-align":"center",right:"-36px"}),"en_US"==lan?($(".dropdown-menu").eq(0).css({"text-align":"center",right:"-100px"}),$(".dropdown-menu").eq(1).css({"text-align":"center",right:"8px"})):($(".dropdown-menu").eq(0).css({"text-align":"center",right:"-52px"}),$(".dropdown-menu").eq(1).css({"text-align":"center",right:"-30px"})),$(".dropdown-menu").eq(2).css({"text-align":"center",right:"-36px"}),$(".dropdown-menu").eq(3).css({"text-align":"center",right:"-36px"})}),$(".nav .dropdown").mouseleave(function(){$(this).removeClass("open")}),$("#qcodeSvgContainer").show(),$(window).resize(function(){1200<$(window).width()&&$(".logo-text-en").show()}),$(".closeBtn").click(function(){if(null!=fromAdmin&&"1"==fromAdmin)return prompt(messages.unauthorized_operation),!1;$("#myModa3").hide(),$(".NewConBtnBox button").attr("disabled",!1),$("#versionId").val()?window.location.href=base+"/QCode/index.html?projectId="+$("#projectId").val()+"&versionId="+$("#versionId").val():window.location.href=base+"/QCode/index.html?projectId="+$("#projectId").val()}),$(window).load(function(){$("#semi").val(1),$("#typeId").val(1),$(".f-jiaocheng ul li").click(function(){$(this).addClass("bbr").siblings().removeClass("bbr"),$(this).children("span").show().parent().siblings(".f-jiaocheng ul li").children("span").hide(),$("#semi").val($(this).attr("semi"))}),257==$("#projectId").val()?($("#jc2").removeClass("jc-but"),$("#jc1").addClass("jc-but")):258==$("#projectId").val()&&($("#jc1").removeClass("jc-but"),$("#jc2").addClass("jc-but")),$("#flag").val(0),null==isIndex&&1!=isIndex||($("#classicName").select2({language:"zh-CN"}),$("#iswap").select2({language:"zh-CN"}),$("#myModal").modal({backdrop:"static",show:!1}),$("#myModa2").modal({backdrop:"static",show:!1}),$("#myModa3").modal({backdrop:"static",show:!1}),$("#myModa4").modal({backdrop:"static",show:!1})),$(".showone").click(function(){$(".first").show(),$(".second").hide(),$(".there").hide(),$(".four").hide()}),$(".daima").click(function(){$(".case-bottom").getNiceScroll().resize()}),$(".moda").click(function(){$(".loading-bg").show(),$(".loading").show(),setTimeout("$('.loading').hide()",5e3),setTimeout("$('.loading-bg').hide()",5e3)}),$("script[data-url]").each(function(){var e=$(this),t=e.attr("data-url");e.attr("src",t)}),$(".dmhj_but").click(function(){$(".dmhj").is(":hidden")?$(".dmhj").slideDown("slow"):$(".dmhj").slideUp("slow")})}),$("#select_option").click(function(){var e=$("#select_option option:selected").index();$(".select_li li").eq(e).addClass("active").siblings().removeClass("active")})});var count=0;function resizeScroll(){setTimeout(function(){50!=count&&($(".case-left").removeAttr("style"),count++,$(".nicescroll-rails-vr").remove(),$("#ascrail2000-hr").css("top","-5px"),$("#ascrail2000-hr").css("left","120px"),$("#ascrail2000-hr").css("position","relative"),resizeScroll())},200)}function shows(e){var t=$("#typeId").val();$(".first").hide(),$(".second").show(),3==t?($("#projectName").val($("#projectTime").val()+"Semi-2Q"),$("#desc").val(messages.app_js_desc)):(2==t?$("#projectName").val($("#projectTime").val()+"Spcd6Q"):$("#projectName").val($("#projectTime").val()+"QEmulator"),$("#desc").val("")),1!=e&&($(".guideId2").attr("style",""),setTimeout(function(){CloudCLD.guideLocation(40,-175,-30,"auto","auto",-50,13,-48,3,".second")},300))}function showt(e){var t=$("#projectName").val(),s=$("#typeId").val();if("0"==getCookie("isTip")&&($("#analogType").attr("disabled",!0),$("#qubitNum").attr("disabled",!0),$("#classicalbitNum").attr("disabled",!0)),""==t)return errorMsg(messages.project_name_not_null),!1;3==s?($(".four").show(),$(".second").hide()):2==s?($(".there").show(),$(".second").hide(),$("#qubitNumDesc").html(messages.number_of_qubits+"<br/> <span>(1-6)</span>"),$("#analogTypeId").html(messages.analog_type),$("#classicalbitNumDesc").html(messages.number_of_classical_registers+"<br/> <span>(1-255)</span>"),$("#qubitNum").val(2),$("#classicalbitNum").val(2)):($(".there").show(),$(".second").hide(),$("#qubitNumDesc").html(messages.number_of_qubits_1_30),$("#analogTypeId").html(messages.analog_type),$("#classicalbitNumDesc").html(messages.number_of_classical_registers_1_255),$("#analogType").val(0),$("#qubitNum").val(6),$("#classicalbitNum").val(6)),2!=e&&($(".guideId3").attr("style",""),setTimeout(function(){CloudCLD.guideLocation(100,-100,-90,"auto","auto",-50,13,-48,4,".there")},300))}function closeme(){$(".contentt").hide()}function previousStep(e){$(".guideContent>div").attr("style",""),1==e&&($(".first").show(),$(".second").hide(),1!=getCookie("isNext")&&1!=getCookie("isCookie")||CloudCLD.nextStep(2)),2==e&&($(".second").show(),$(".there").hide(),1!=getCookie("isNext")&&1!=getCookie("isCookie")||CloudCLD.nextStep(3))}function errorMsg(e){noty({text:e,type:"error",dismissQueue:!0,layout:"center",theme:"relax",timeout:1500,progressBar:!1})}function toPage(e){$("#startId").val(e),document.getElementById("searchForm").reset(),$("#searchForm").submit()}$(function(){function e(e){$(".case-list dl").eq(e).children("dd").hover(function(){2==analogType?0==e?(1==$(this).index()?$(".case-js dl").eq(e).children("dd").eq($(this).index()+2).css("left","-5px"):$(".case-js dl").eq(e).children("dd").eq($(this).index()+2).css("left","30px"),$(".case-js dl").eq(e).children("dd").eq($(this).index()+2).show().siblings().hide()):1==e?($(".case-js dl").eq(e).children("dd").eq(1).show().siblings().hide(),$(".case-js dl").eq(e).children("dd").eq(1).css("left","47px")):2==e&&($(".case-js dl").eq(e).children("dd").eq($(this).index()-1).show().siblings().hide(),$(".case-js dl").eq(e).children("dd").eq($(this).index()-1).css("left","107px")):($(this).append('<span class="jt"></span>'),$(".case-js dl").eq(e).children("dd").eq($(this).index()-1).show().siblings().hide())},function(){$(this).find(".jt").remove(),$(".case-js dl").children("dd").hide()})}e(0),e(1),e(2),e(3),e(6)});var maxHeight=400;$(function(){$(".dropdown li").click(function(){$(this).addClass("nav_cur").siblings().removeClass("nav_cur")}),$(".dropdown > li").hover(function(){var o=$(this),i=o.find("ul"),e=o.find("a"),a=1.1*i.height()/maxHeight;o.data("origHeight",o.height()),e.addClass("hover"),i.show().css({paddingTop:o.data("origHeight")}),1<a&&o.css({height:maxHeight,overflow:"hidden"}).mousemove(function(e){var t=o.offset(),s=(e.pageY-t.top)*a-o.data("origHeight")*a;s>o.data("origHeight")&&i.css("top",-s+o.data("origHeight"))})},function(){$(this).height($(this).data("origHeight")).find("ul").css({top:0}).hide().end().find("a").removeClass("hover")})}),function(o){var i={init:function(e,t){return i.fillHtml(e,t),void i.bindEvent(e,t)},fillHtml:function(s,o){return function(){s.empty(),1<o.current&&s.append('<li class="disabled"><a tabindex="0" onclick="toLocation('+(o.current-2)+')">&lt;上一页</a></li>'),1!=o.current&&4<=o.current&&4!=o.pageCount&&s.append('<li class="page-item"><a tabindex="3" onclick="toLocation(0)">1</a></li>'),2<o.current-2&&o.current<=o.pageCount&&5<o.pageCount&&s.append('<li class="page-item"><span>...</span></li>');var e=o.current-2,t=o.current+2;for((1<e&&o.current<4||1==o.current)&&t++,o.current>o.pageCount-4&&o.current>=o.pageCount&&e--;e<=t;e++)e<=o.pageCount&&1<=e&&(e!=o.current?s.append('<li class="page-item"><a tabindex="3" onclick="toLocation('+(e-1)+')">'+e+"</a></li>"):s.append('<li class="page-item active"><a tabindex="3" onclick="toLocation('+(e-1)+')">'+e+"</a></li>"));o.current+2<o.pageCount-1&&1<=o.current&&5<o.pageCount&&s.append('<li class="page-item"><span>...</span></li>'),o.current<o.pageCount&&s.append('<li class="disabled"><a tabindex="0" onclick="toLocation('+(o.result.nextPage-1)+')">下一页&gt;</a></li>'),0==o.result.entityList.length&&s.append('<li class="disabled"><a tabindex="0" >暂无数据</a></li>')}()},bindEvent:function(t,s){return t.on("click","a.tcdNumber",function(){var e=parseInt(o(this).text());i.fillHtml(t,{current:e,pageCount:s.pageCount,turndown:s.turndown}),"function"==typeof s.backFn&&s.backFn(e)}),t.on("click","a.prevPage",function(){var e=parseInt(t.children("span.current").text());i.fillHtml(t,{current:e-1,pageCount:s.pageCount,turndown:s.turndown}),"function"==typeof s.backFn&&s.backFn(e-1)}),t.on("click","a.nextPage",function(){var e=parseInt(t.children("span.current").text());i.fillHtml(t,{current:e+1,pageCount:s.pageCount,turndown:s.turndown}),"function"==typeof s.backFn&&s.backFn(e+1)}),void t.on("click","a.turndown",function(){var e=o("span.countYe input").val();e>s.pageCount&&alert("您的输入有误，请重新输入！"),i.fillHtml(t,{rusult:s.result,current:e,pageCount:s.pageCount,turndown:s.turndown})})}};o.fn.createPage=function(e){var t=o.extend({result:"",pageCount:10,current:1,turndown:!0,backFn:function(){}},e);i.init(this,t)}}(jQuery),function(t){function e(e){this.$textarea=t(e),this._init()}e.prototype={_init:function(){var e=this;this.$textarea.wrap('<div class="flex-text-wrap" style="min-height: 104px;height: 104px" />').before('<pre class="pre" style="display:none;"><span /><br /></pre>'),this.$span=this.$textarea.prev().find("span"),this.$textarea.on("input propertychange keyup change",function(){e._mirror()}),t.valHooks.textarea={get:function(e){return e.value.replace(/\r?\n/g,"\r\n")}},this._mirror()},_mirror:function(){this.$span.text(this.$textarea.val())}},t.fn.flexText=function(){return this.each(function(){t.data(this,"flexText")||t.data(this,"flexText",new e(this))})}}(jQuery),function(i){var e;function a(){return document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement}function n(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()}i.support.fullscreen="requestFullscreen"in(e=document.documentElement)||"mozRequestFullScreen"in e&&document.mozFullScreenEnabled||"webkitRequestFullScreen"in e||"msRequestFullscreen"in e,i.fn.fullScreen=function(e){if(!i.support.fullscreen||1!=this.length)return this;if(a())return i("#box-close").css({right:"-80px"}),i("#my_video_1").removeClass("vjs-fullscreen"),i("#my_video_1").removeClass("vjs-ended"),i("#my_video_1").removeClass("vjs-paused"),n(),this;i("#my_video_1").addClass("vjs-fullscreen"),i("#my_video_1").addClass("vjs-ended"),i("#my_video_1").addClass("vjs-paused"),i("#box-close").css({right:"10px"});var t=i.extend({background:"#111",callback:function(){}},e),s=i("<div>",{css:{"overflow-y":"auto",background:t.background,width:"100%",height:"100%"}}),o=this;return o.addClass("fullScreen"),s.insertBefore(o),s.append(o),function(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen()}(s.get(0)),s.click(function(e){e.target==this&&n()}),o.cancel=function(){return n(),o},function(e){i(document).on("fullscreenchange mozfullscreenchange webkitfullscreenchange MSFullscreenChange",function(){e(a())})}(function(e){e||(i("#box-close").css({right:"-80px"}),i("#my_video_1").removeClass("vjs-fullscreen"),i("#my_video_1").removeClass("vjs-ended"),i("#my_video_1").removeClass("vjs-paused"),o.removeClass("fullScreen").insertBefore(s),s.remove()),t.callback(e)}),o}}(jQuery);var flagTime=0;function appHmtl(e){return' <div id="videoplayer_overlay" style=""><div id="videoplayer_outer_container"><div id="videoplayer_container"><div id="videoplayer"><div data-setup="{&quot;techOrder&quot;: [&quot;html5&quot;]}" poster="" preload="auto" class="video-js vjs-sublime-skin vjs-controls-enabled vjs-has-started vjs-playing vjs-user-inactive" id="my_video_1" style="width: 100%; height: 100%;"><video  id="my_video_1_html5_api" class="vjs-tech" preload="auto"  preload=""  poster="" data-setup="{&quot;techOrder&quot;: [&quot;html5&quot;]}" src="'+e+'"><source type="video/mp4" src="'+e+'"></video><div></div><div class="vjs-loading-spinner"></div><div class="vjs-text-track-display vjs-hidden"></div><div class="vjs-big-play-button" role="button" aria-live="polite" tabindex="0" aria-label="play video"><span aria-hidden="true"></span></div><div class="vjs-control-bar"><div class="vjs-play-control vjs-control  vjs-playing" role="button" aria-live="polite" tabindex="0"><div class="vjs-control-content"><span class="vjs-control-text">Pause</span></div></div><div class="vjs-current-time vjs-time-controls vjs-control"><div class="vjs-current-time-display" aria-live="off"><span class="vjs-control-text">Current Time</span> 2:02</div></div><div class="vjs-time-divider"><div><span>/</span></div></div><div class="vjs-duration vjs-time-controls vjs-control"><div class="vjs-duration-display" aria-live="off"><span class="vjs-control-text">Duration Time</span> 4:55</div></div><div class="vjs-remaining-time vjs-time-controls vjs-control"><div class="vjs-remaining-time-display" aria-live="off"><span class="vjs-control-text">Remaining Time</span> -2:53</div></div><div class="vjs-live-controls vjs-control"><div class="vjs-live-display" aria-live="off"><span class="vjs-control-text">Stream Type</span>LIVE</div></div><div class="vjs-progress-control vjs-control"><div role="slider" aria-valuenow="60.21" aria-valuemin="0" aria-valuemax="100" tabindex="0" class="vjs-progress-holder vjs-slider" aria-label="video progress bar" aria-valuetext="3:02"><div class="vjs-load-progress" style="width: 100%;"><span class="vjs-control-text" style="left: 0%; width: 9.93072%;"><span>Loaded</span>: 0%</span><div style="left: 14.3375%; width: 85.6625%;"></div></div><div class="vjs-play-progress" style="width: 0%;"><span class="vjs-control-text"><span>Progress</span>: 0%</span></div><div class="vjs-seek-handle vjs-slider-handle" aria-live="off" style="left: 60.21%;"><span class="vjs-control-text"></span></div></div></div><div class="vjs-fullscreen-control vjs-control " role="button" aria-live="polite" tabindex="0"><div class="vjs-control-content"><span class="vjs-control-text">Fullscreen</span></div></div><div style="position: relative;cursor: pointer" onmouseenter="showBox()" onmouseleave="hideBox()"><span id="ulPx">清晰度</span><ul id="pxBox"><li id="p720" style="margin-bottom: 5px" onclick="chosePx(event)">720P</li><li id="p360" style="margin-bottom: 5px" onclick="chosePx(event)">360P</li></ul></div><div onmouseenter="showBox1()" onmouseleave="hideBox1()"><span class="speed-box" >1.0x</span><ul class="speed-list-box" onclick="choseSpeed(event)"><li id="norSpeed">1.0x</li><li id="fastSpeed">1.5x</li><li id="slowSpeed">2.0x</li></ul></div><div class="vjs-volume-control vjs-control"><div role="slider" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" tabindex="0" class="vjs-volume-bar vjs-slider" aria-label="volume level" aria-valuetext="100%"><div class="vjs-volume-level"><span class="vjs-control-text"></span></div><div class="vjs-volume-handle vjs-slider-handle"><span class="vjs-control-text"  id="timesID"></span></div></div></div><div class="vjs-mute-control vjs-control" role="button" aria-live="polite" tabindex="0"><div><span class="vjs-control-text">Mute</span></div></div><div class="vjs-playback-rate vjs-menu-button vjs-control  vjs-hidden" role="button" aria-live="polite" tabindex="0" aria-haspopup="true"><div class="vjs-control-content"><span class="vjs-control-text">Playback Rate</span><div class="vjs-menu"><ul class="vjs-menu-content"></ul></div></div><div class="vjs-playback-rate-value">1</div></div><div class="vjs-subtitles-button vjs-menu-button vjs-control  vjs-hidden" role="button" aria-live="polite" tabindex="0" aria-haspopup="true" aria-label="Subtitles Menu"><div class="vjs-control-content"><span class="vjs-control-text">Subtitles</span><div class="vjs-menu"><ul class="vjs-menu-content"><li class="vjs-menu-item vjs-selected" role="button" aria-live="polite" tabindex="0" aria-selected="true">subtitles off</li></ul></div></div></div><div class="vjs-captions-button vjs-menu-button vjs-control  vjs-hidden" role="button" aria-live="polite" tabindex="0" aria-haspopup="true" aria-label="Captions Menu"><div class="vjs-control-content"><span class="vjs-control-text">Captions</span><div class="vjs-menu"><ul class="vjs-menu-content"><li class="vjs-menu-item vjs-selected" role="button" aria-live="polite" tabindex="0" aria-selected="true">captions off</li></ul></div></div></div><div class="vjs-chapters-button vjs-menu-button vjs-control  vjs-hidden" role="button" aria-live="polite" tabindex="0" aria-haspopup="true" aria-label="Chapters Menu"><div class="vjs-control-content"><span class="vjs-control-text">Chapters</span><div class="vjs-menu"><ul class="vjs-menu-content"><li class="vjs-menu-title">Chapters</li></ul></div></div></div></div><div class="vjs-error-display"><div></div></div><div class="vjs-caption-settings vjs-modal-overlay vjs-hidden"><div class="vjs-tracksettings"><div class="vjs-tracksettings-colors"><div class="vjs-fg-color vjs-tracksetting"><label class="vjs-label">Foreground</label><select><option value="">---</option><option value="#FFF">White</option><option value="#000">Black</option><option value="#F00">Red</option><option value="#0F0">Green</option><option value="#00F">Blue</option><option value="#FF0">Yellow</option><option value="#F0F">Magenta</option><option value="#0FF">Cyan</option></select><span class="vjs-text-opacity vjs-opacity"><select><option value="">---</option><option value="1">Opaque</option><option value="0.5">Semi-Opaque</option></select></span></div><div class="vjs-bg-color vjs-tracksetting"><label class="vjs-label">Background</label><select><option value="">---</option><option value="#FFF">White</option><option value="#000">Black</option><option value="#F00">Red</option><option value="#0F0">Green</option><option value="#00F">Blue</option><option value="#FF0">Yellow</option><option value="#F0F">Magenta</option><option value="#0FF">Cyan</option></select><span class="vjs-bg-opacity vjs-opacity"><select><option value="">---</option><option value="1">Opaque</option><option value="0.5">Semi-Transparent</option><option value="0">Transparent</option></select></span></div><div class="window-color vjs-tracksetting"><label class="vjs-label">Window</label><select><option value="">---</option><option value="#FFF">White</option><option value="#000">Black</option><option value="#F00">Red</option><option value="#0F0">Green</option><option value="#00F">Blue</option><option value="#FF0">Yellow</option><option value="#F0F">Magenta</option><option value="#0FF">Cyan</option></select><span class="vjs-window-opacity vjs-opacity"><select><option value="">---</option><option value="1">Opaque</option><option value="0.5">Semi-Transparent</option><option value="0">Transparent</option></select></span></div></div><div class="vjs-tracksettings-font"><div class="vjs-font-percent vjs-tracksetting"><label class="vjs-label">Font Size</label><select><option value="0.50">50%</option><option value="0.75">75%</option><option value="1.00" selected="">100%</option><option value="1.25">125%</option><option value="1.50">150%</option><option value="1.75">175%</option><option value="2.00">200%</option><option value="3.00">300%</option><option value="4.00">400%</option></select></div><div class="vjs-edge-style vjs-tracksetting"><label class="vjs-label">Text Edge Style</label><select><option value="none">None</option><option value="raised">Raised</option><option value="depressed">Depressed</option><option value="uniform">Uniform</option><option value="dropshadow">Dropshadow</option></select></div><div class="vjs-font-family vjs-tracksetting"><label class="vjs-label">Font Family</label><select><option value="">Default</option><option value="monospaceSerif">Monospace Serif</option><option value="proportionalSerif">Proportional Serif</option><option value="monospaceSansSerif">Monospace Sans-Serif</option><option value="proportionalSansSerif">Proportional Sans-Serif</option><option value="casual">Casual</option><option value="script">Script</option><option value="small-caps">Small Caps</option></select></div></div></div><div class="vjs-tracksettings-controls"><button class="vjs-default-button">Defaults</button><button class="vjs-done-button">Done</button></div></div><a class="icon-view-close" id="box-close" href="javascript:;">&times;</a></div></div></div></div></div>'}function appHmtl2(e){return'<div id="videoplayer_overlay" style=""><div id="videoplayer_outer_container"><div id="videoplayer_container"><div id="videoplayer"><div data-setup="{&quot;techOrder&quot;: [&quot;html5&quot;]}" poster="" preload="auto" class="video-js vjs-sublime-skin vjs-controls-enabled vjs-has-started vjs-user-active vjs-paused" id="my_video_1" style="width: 100%; height: 100%;"><video id="my_video_1_html5_api" class="vjs-tech" preload="auto" autoplay="autoplay" controls="controls" poster="" data-setup="{&quot;techOrder&quot;: [&quot;html5&quot;]}" src="'+e+'"><source type="video/mp4" src="'+e+'"></video><div></div><a class="icon-view-close" id="box-close" href="javascript:;">×</a></div></div></div></div></div>'}function showBox1(){$(".speed-list-box").show()}function hideBox1(){$(".speed-list-box").hide()}function choseSpeed(e){var t=e.target.id,s=$("#"+t).text();switch($(".speed-box").text(s),t){case"norSpeed":$("#my_video_1_html5_api")[0].playbackRate=1;break;case"fastSpeed":$("#my_video_1_html5_api")[0].playbackRate=1.5;break;case"slowSpeed":$("#my_video_1_html5_api")[0].playbackRate=2;break;default:$(".speed-box").text("1.0x"),$("#my_video_1_html5_api")[0].playbackRate=1}$(".speed-list-box").hide()}function showBox(){$("#pxBox").show()}function hideBox(){$("#pxBox").hide()}document.addEventListener("WeixinJSBridgeReady",function(){},!1);var time=0;function chosePx(e){var t=document.getElementById("my_video_1_html5_api"),s=$("#my_video_1_html5_api")[0].currentTime;$("body").find("#my_video_1_html5_api").get(0).pause(),hideBox();var o=e.target.id,i=$("#"+o).text();if($("#ulPx").text(i),"p360"==o){var a=new Date,n=new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds());n.toUTCString(),n=Math.floor(n.getTime()/1e3);var l=$.md5("originquantum/360p/"+dataValue+n)+"&qubit="+n;path="http://fast.qpanda.cn/360p/"+dataValue+"?video="+l}else path="http://video.qpanda.cn:65520/"+dataValue;specialPath&&(path=specialPath),isWeiXin(),clearInterval(progressFlag),$("#my_video_1_html5_api").attr("src",path),$("body").find("#my_video_1_html5_api").get(0).play(),$(this).addClass("vjs-playing"),$("body").find(".video-js").addClass("vjs-playing"),$(this).removeClass("vjs-paused"),t.currentTime=s}function getToolsCtrl(){$("body").find("#my_video_1_html5_api").get(0).play(),$("body").find(".video-js").hover(function(){$(".video-js").addClass("vjs-user-active"),$(".video-js").removeClass("vjs-user-inactive")},function(){$(".video-js").removeClass("vjs-user-active"),$(".video-js").addClass("vjs-user-inactive")}),$(".vjs-fullscreen-control").on("click",function(e){$(this).parent().parent().fullScreen(),$(".vjs-play-control").addClass("vjs-playing");var t=null;clearTimeout(t),flagTime||(t=setTimeout(function(){$("body").find("#my_video_1_html5_api").get(0).play()},300)),e.stopPropagation()}),$("body").find(".vjs-play-control").on("click",function(e){$(this).hasClass("vjs-playing")?(flagTime=1,$(this).removeClass("vjs-playing"),$("body").find(".video-js").removeClass("vjs-playing"),$(this).addClass("vjs-paused"),$("body").find("#my_video_1_html5_api").paused=!0,$("body").find("#my_video_1_html5_api").get(0).pause()):(flagTime=0,$(this).addClass("vjs-playing"),$("body").find(".video-js").addClass("vjs-playing"),$(this).removeClass("vjs-paused"),$("body").find("#my_video_1_html5_api").paused=!1,$("body").find("#my_video_1_html5_api").get(0).play()),e.stopPropagation()}),$("body").find("#box-close").on("click",function(){$("body").find("#my_video_1_html5_api").get(0).pause(),$("#videoplayer_overlay").remove()}),$("body").find(".video-js").on("click",function(e){$(this).hasClass("vjs-playing")?(flagTime=1,$(this).removeClass("vjs-playing"),$("body").find(".video-js").removeClass("vjs-playing"),$(this).addClass("vjs-paused"),$("body").find("#my_video_1_html5_api").paused=!0,$("body").find("#my_video_1_html5_api").get(0).pause()):(flagTime=0,$(this).addClass("vjs-playing"),$("body").find(".video-js").addClass("vjs-playing"),$(this).removeClass("vjs-paused"),$("body").find("#my_video_1_html5_api").paused=!1,$("body").find("#my_video_1_html5_api").get(0).play()),e.stopPropagation()});var e=null;e=setTimeout(function(){clearTimeout(e),$(document).ready(function(){$("body").find("#my_video_1_html5_api").on("timeupdate",function(e){!function(e,t){$("#current").text(e),$("#duration").text(t);var s=e/t*100+"%";document.getElementsByClassName("vjs-play-progress")[0].style.width=s,$("#hy").text(s),e==t&&$("#pro").text("(已完成)")}(this.currentTime,this.duration)})})},100)}function isWeiXin(){return"micromessenger"==window.navigator.userAgent.toLowerCase().match(/MicroMessenger/i)}var dataValue,specialPath=null,videoSetTime=null;function videoPlay(e){clearInterval(videoSetTime),specialPath=null;window.location.hostname;var t="";dataValue=$(e).find(".vid_screenshot").attr("data-value");var s=new Date,o=new Date(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds());o.toUTCString(),o=Math.floor(o.getTime()/1e3);var i=$.md5("originquantum/360p/"+dataValue+o)+"&qubit="+o;t="http://fast.qpanda.cn/360p/"+dataValue+"?video="+i;var a=$("li.active").attr("data-classify"),n=$(".OptionList a.active").attr("data-classify"),l=$(".vidlisUser>li.active").index();"6"!=a&&"6"!=n&&l+1!=31||(specialPath=t="http://1254321318.vod2.myqcloud.com/7885907dvodgzp1254321318/e9ee9bde5285890786124998662/QOeq0yzgt0IA.mp4?video="+i),function(){if(!/s=noRedirect/i.test(location.search))if(/AppleWebKit.*Mobile/i.test(navigator.userAgent)||/MIDP|SymbianOS|NOKIA|SAMSUNG|LG|NEC|TCL|Alcatel|BIRD|DBTEL|Dopod|PHILIPS|HAIER|LENOVO|MOT-|Nokia|SonyEricsson|SIE-|Amoi|ZTE/.test(navigator.userAgent))try{/Android|Windows Phone|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)?($("body").append(appHmtl2(t)),$("body").find("#box-close").on("click",function(){$("body").find("#my_video_1_html5_api").get(0).pause(),$("#videoplayer_overlay").remove()})):/iPad/i.test(navigator.userAgent)}catch(e){}else $("body").append(appHmtl(t)),getTools()}(),videoSetTime=setInterval(function(){$("body").find("#my_video_1_html5_api").get(0).paused?$("body").find("#my_video_1_html5_api").get(0).play():clearInterval(videoSetTime)},1e3)}function Cloud(e){}$("body").on("mouseenter",".vidlisUser li",function(){isWeiXin()?videoPlay($(this)):$(this).addClass("active").siblings().removeClass("active")}),$("body").on("mouseleave",".vidlisUser li",function(){$(this).removeClass("active")}),Cloud.prototype={init:function(){var t=this;t.changeCode(),$(".pointTag1").on("click",function(){t.clearStyle(),$(".pointTag10").show(),$("rect[qi='1'][qs='3']").click(),setTimeout(function(){t.guideLocation(90,0,-60,"auto","auto",-50,13,-48,8,".LayerContent")},200)}),$(".pointTag2").on("click",function(){t.clearStyle(),$(".LayerContent").css({"z-index":"auto"}),$("rect[qi='0'][qs='1']").click(),setTimeout(function(){$("#LayerContent").show(),t.guideLocation(-10,50,0,0,0,0,13,-48,11,".step11")},200)}),$(".pointTag4").on("click",function(){t.clearStyle(),$(".LayerContent").css({"z-index":"auto"}),$(".step11").attr("style",""),$("rect[qi='0'][qs='2']").click(),setTimeout(function(){$("#LayerContent").show(),t.guideLocation(-10,50,0,0,0,0,13,-48,14,".step13")},200)}),$(".pointTag5").on("click",function(){t.clearStyle(),$(".step13").attr("style",""),$("rect[qi='2'][qs='2']").click(),setTimeout(function(){t.guideLocation(25,50,0,0,0,0,13,-48,16,".pointTag6")},200)}),$(".pointTag7").on("click",function(){t.clearStyle(),$(".step13").attr("style",""),$(".LayerContent").css({"z-index":"auto"}),$("rect[qi='0'][qs='3']").click(),setTimeout(function(){$("#LayerContent").show(),t.guideLocation(-20,60,0,0,0,0,13,-48,18,".step18")},200)}),$(".pointTag8").on("click",function(){t.clearStyle(),$(".step13").attr("style",""),$(".LayerContent").css({"z-index":"auto"}),$("rect[qi='1'][qs='3']").click(),setTimeout(function(){$("#LayerContent").show(),t.guideLocation(-20,60,0,0,0,0,13,-48,21,".step19")},200)}),$(".guide_close_box a").on("click",function(){$(".simulate_box>div").attr("style",""),$(".guideContent>div").attr("style",""),$(".NewConBtnBox>div").attr("style",""),$(".LayerContent").attr("style",""),$(".NewModule").attr("style",""),$(".New_add").attr("style",""),$(".guideContent").hide(),$(".guideContentBg").hide(),setCookie("isNext","0"),setCookie("isTip","1"),setCookie("isCookie","0"),$(".modal-backdrop").removeClass("in"),$("#analogType").attr("disabled",!1),$("#qubitNum").attr("disabled",!1),$("#classicalbitNum").attr("disabled",!1),$.ajax("/QCode/updUser.json",{},function(){},"json")}),setTimeout(function(){$.get("/QCode/getUserStatus.json",{},function(e){"0"==e.message?t.to_guide():"1"==getCookie("isCookie")?t.to_guide():"0"==getCookie("isCookie")&&"1"==getCookie("isNext")&&t.to_guide()},"json")},300),$(".close").on("click",function(){$(".guide_close_box a").click(),$(".first").show(),$(".second").hide(),$(".there").hide(),$(".four").hide()})," 新增 "==$(".showone").text().toString()&&$("#to_guide_btn").show(),$(function(){var s=$(".NewTab ul li");s.click(function(){var t=s.index(this);if(tabIndex==t)return!1;$(".LayerSetting").hide(),$(".LaySetLine1").hide(),$(".LaySetLine3").hide(),$("#commandTip").hide(),$(".LaySetLine2").hide(),Dialog.confirm({title:Operating_instructions,message:0==t?messages.Confirm_tab_tip0:messages.Confirm_tab_tip1}).on(function(e){if(e&&(1!=t||checkGrammar("",""))){if(0==t)0!=code2Trans()&&(s.eq(0).addClass("active").siblings().removeClass("active"),$("#NewBox .pr-box").hide(),$(".NewModule").show(),$(".NewConsole").show(),tabIndex=t,$("#ascrail2000-hr").show());else if(1==t)s.eq(1).addClass("active").siblings().removeClass("active"),$("#NewBox .pr-box").show(),$(".NewModule").hide(),$(".NewConsole").hide(),trans2Code(),tabIndex=t,$("#ascrail2000-hr").hide();else{if(1==tabIndex)0!=code2Trans()&&(s.eq(1).addClass("active").siblings().removeClass("active"),$("#NewBox .pr-box").show(),$(".NewModule").hide(),$(".NewConsole").hide(),trans2Code(),tabIndex=t);else s.eq(0).addClass("active").siblings().removeClass("active"),$("#NewBox .pr-box").show(),$(".NewModule").show(),$(".NewConsole").show(),trans2Code(),tabIndex=t}$(".modRight_center").getNiceScroll().resize(),count=0}})}),s.hover(function(){var e=s.index(this);if(tabIndex==e)return!1;$(".tab_menu").find("li").eq(e).css("background","#59c3f0")},function(){var e=s.index(this);if(tabIndex==e)return!1;$(".tab_menu").find("li").eq(e).css("background","")})}),$(document).keyup(function(e){13==e.keyCode&&("block"==$("#myModal .first").css("display")?shows():"block"==$("#myModal .second").css("display")?showt():"block"==$("#myModal .second").css("display")&&saveProject())}),$("#updateRepeat").on("keyup",function(){var e=$(this).val();""!=e&&(8192<e||e<1)&&$(this).val(8192)}),$("#myModa3").on("hide.bs.modal",function(e){clearInterval(interval)}),$("#myModa2").on("hide.bs.modal",function(e){clearInterval(interval),1==$("#flag").val()&&(window.location.href=base+"/QCode/index.html?projectId="+$("#projectId").val())}),$("#closeBtn").click(function(){if(null!=fromAdmin&&"1"==fromAdmin)return prompt(messages.unauthorized_operation),!1;$("#myModa3").hide(),window.location.href=base+"/QCode/index.html?projectId="+$("#projectId").val()+"&versionId="+$("#versionId").val()}),$("#qubitNum").on("keyup",function(){var e=$("#typeId").val(),t=$(this).val(),s=$("#analogType").val();1==e&&("1"==s?"3"==userLevel?""!=t&&(42<t||t<1)&&$(this).val(42):"2"==userLevel?""!=t&&(32<t||t<1)&&$(this).val(32):""!=t&&(20<t||t<1)&&$(this).val(20):"0"==s?""!=t&&(20<t||t<1)&&$(this).val(20):"3"==userLevel?""!=t&&(42<t||t<1)&&$(this).val(42):"2"==userLevel?""!=t&&(32<t||t<1)&&$(this).val(32):""!=t&&(20<t||t<1)&&$(this).val(20)),2==e&&""!=t&&(6<t||t<1)&&$(this).val(6)}),$("#classicalbitNum").on("keyup",function(){var e=$(this).val();""!=e&&(255<e||e<1)&&$(this).val(255)}),$("#qubitNum").blur(function(){var e=$("#typeId").val(),t=$(this).val(),s=$("#analogType").val();1==e&&("3"==userLevel?"1"==s?""!=t&&(42<t||t<1)&&$(this).val(42):""!=t&&(20<t||t<1)&&$(this).val(20):"2"==userLevel&&"1"==s?""!=t&&(32<t||t<1)&&$(this).val(32):""!=t&&(20<t||t<1)&&$(this).val(20)),2==e&&""!=t&&(6<t||t<1)&&$(this).val(6)}),$("#classicalbitNum").blur(function(){var e=$(this).val();""!=e&&(255<e||e<1)&&$(this).val(255)}),"en_US"==lan&&($(".case-list dl").css({padding:"0 16px"}),$(".admin").css({width:"128px"}));var o=null;$(".Layer_Con .Layer_sort_con .sort_con_list ul li").hover(function(e){var t;t='<div class="LayerPublicAlert"><div class="tipTitle">'+$(this).find(".sort_tip_name").text()+'</div><p style="display:block;">'+$(this).find(".sort_tip_hw").html()+"</p></div>",$(this).append(t);var s=$(this);o=setTimeout(function(){var e=-$(".LayerPublicAlert").width()/2+"px";s.find(".LayerPublicAlert").css({"margin-left":e}),$(".LayerPublicAlert").show()},200)},function(){clearTimeout(o),$(this).find(".LayerPublicAlert").remove()}),$(".LayerClose").on("click",function(){$(".LayerContent").hide()});var s=document.getElementById("modRight_center");s.onscroll=function(e){$(".LayerSetting").hide(),$(".LaySetLine1").hide(),$(".LaySetLine3").hide(),$("#commandTip").hide(),$(".LaySetLine2").hide(),$(".modRight_top").css({"margin-left":-s.scrollLeft}),$(".modLeft_l ul").css({"margin-top":-s.scrollTop})}},changeCode:function(){var e=$("#code").val();e?(e=(e=e.replace("CREG "+classicalbitNum,"")).replace("QINIT "+qubitNum,""),code2Trans(e)):svgBoard(qubitNum,100,classicalbitNum,"$")},guideLocation:function(e,t,s,o,i,a,n,l,r,d){if(0!=getCookie("isTip")&&1==getCookie("isTip")||null==getCookie("isTip")&&null==getCookie("isTip"))return!1;if($(d).show(),$(".guideContent").show(),$(".guideContentBg").show(),"7"==r||"10"==r||"12"==r||"13"==r||"15"==r||"16"==r||"17"==r||"20"==r)var c=$(".NewModuleRight")[0].offsetTop+$(d)[0].offsetTop-$(document).scrollTop()+e,u=$(".NewModuleRight")[0].offsetLeft+$(d)[0].offsetLeft-$(document).scrollLeft()+t,p="static";else if("8"==r||"19"==r||"22"==r){c=$(d)[0].offsetTop+$(d).outerHeight()+e-$(document).scrollTop(),u=$(d)[0].offsetLeft+$(d).outerWidth()/4+t-$(document).scrollLeft();"19"!=r&&"22"!=r||(u=$(".LayerSetting").offset().left+$(d).outerWidth()+t);p="absolute";$(d).css({"z-index":"1062"})}else if("2"==r||"3"==r||"4"==r||"24"==r){c=$(d).offset().top+($(d).outerHeight()+e)-$(document).scrollTop(),u=$(d).offset().left+($(d).outerWidth()/2+t)-$(document).scrollLeft(),p="absolute";$(d).css({position:"relative","z-index":"1062"})}else if("6"==r||"9"==r||"11"==r||"14"==r||"18"==r||"21"==r){c=$(d).offset().top+($(d).outerHeight()+e)-$(document).scrollTop(),u=$(d).offset().left+($(d).outerWidth()/4+t)-$(document).scrollLeft();if("11"==r||"14"==r||"18"==r||"21"==r)p="static";else p="absolute";$(d).css({position:"relative","z-index":"1062",background:"#fff"})}else{c=$(d).offset().top-$(document).scrollTop()-($(".guideId"+r).outerHeight()+e),u=$(d).offset().left-$(document).scrollLeft()-($(".guideId"+r).outerWidth()+t),p="absolute";$(d).css({position:"relative","z-index":"1062"})}$(document).width()<1400&&24==r||$(document).width()<1400&&2==r||$(document).width()<1400&&3==r||$(document).width()<1400&&4==r?$(".guideContent").css({top:c+$(document).scrollTop()-.2*$(d).outerHeight(),left:.8*u,display:"block",position:"absolute"}):$(".guideContent").css({top:c+$(document).scrollTop(),left:u,display:"block",position:"absolute"}),$(".guideId"+r).css({display:"block"});var v=r;$(window).scroll(function(){if("block"!=$(".guideId"+r).css("display"))return!1;2!=v&&3!=v&&4!=v&&24!=v||($(document).width()<1400?$(".guideContent").css({top:c+$(document).scrollTop()-.2*$(d).outerHeight(),left:.8*u,display:"block",position:"absolute"}):$(".guideContent").css({top:c+$(document).scrollTop(),left:u,display:"block",position:"absolute"}))}),$(".guideId"+r+" .pointTo").css({top:s,left:o,bottom:i,right:a,position:p,display:"block"}),$(".guideId"+r+" .pointTag").css({top:n,left:l,position:"relative"})},nextStep:function(e){var t=this;9==e&&$("#LayerContent").show(),0==e?t.guideLocation(70,50,"auto","auto",-60,-88,13,-48,1,".New_add"):2==e?$(".New_add").click():3==e?shows():4==e?showt():5==e?"2"==isOldUser?t.visitorSaveProject():t.saveProject():7==e?(t.clearStyle(),setTimeout(function(){t.guideLocation(30,60,0,0,0,0,13,-48,7,".pointTag1")},300)):9==e?($(".pointTag10").show(),$(".guideId8").attr("style",""),$(".LayerContent").css({"z-index":"auto"}),t.guideLocation(90,60,-60,"auto","auto",-50,13,-48,9,".Layer_Con")):10==e?(t.clearStyle(),$(".Layer_Con").attr("style",""),t.guideLocation(30,60,0,0,0,0,13,-48,10,".pointTag2")):13==e?(t.clearStyle(),t.guideLocation(30,60,0,0,0,0,13,-48,13,".pointTag4")):17==e?(t.clearStyle(),$(".LayerContent").css("z-index","auto"),t.guideLocation(30,60,0,0,0,0,13,-48,17,".pointTag7")):20==e?(t.clearStyle(),$(".LayerContent").css("z-index","auto"),t.guideLocation(30,60,0,0,0,0,13,-48,20,".pointTag8")):23==e?(t.clearStyle(),t.guideLocation(70,50,"auto","auto",-60,-88,13,-48,23,".New_edit")):24==e?$(".New_edit").click():25==e&&t.updateProject()},clearStyle:function(){$(".pointTag10").hide(),$(".simulate_box>div").attr("style",""),$(".guideContent>div").attr("style",""),$(".NewConBtnBox>div").attr("style",""),$(".LayerContent").attr("style",""),$(".LayerSetting").attr("style",""),$(".NewModule").attr("style",""),$("#analogType").attr("disabled",!1),$("#qubitNum").attr("disabled",!1),$("#classicalbitNum").attr("disabled",!1)},to_guide_btn:function(){setCookie("isCookie","1"),setCookie("isNext","0"),window.location.reload()},to_guide:function(){setCookie("isTip",0),$("#ascrail2000-hr").hide(),1==getCookie("isNext")||1==getCookie("isCookie")&&1==getCookie("isNext")?($(".pointTag9").show(),this.guideLocation(20,60,-20,"auto","auto",-50,13,-48,6,".NewModule")):this.guideLocation(70,50,"auto","auto",-60,-88,13,-48,1,".New_add")},running:function(){$("#updateRepeat").val();if(null!=fromAdmin&&"1"==fromAdmin)return prompt(messages.unauthorized_operation),!1;if(canRun()){this.random();var e=trans2Code(),t="[";if(2==analogType)t+=transCode(),t+="]";else{e=trans2Code();e="CREG "+classicalbitNum+"\r\n"+e,e="QINIT "+qubitNum+"\r\n"+e}if(0==parseInt(trans2CodeStatus))return errorMsg(messages.init_waiting),!1;$("#myModa3").modal("show"),setTimeout(function(){$("#closeBtn").attr("style","display:block;")},3e4),$("#taskResult").empty();var s=getSvgXml(),o=$("#projectId").val(),i=$("#versionId").val();$("#flag").val(1);var a={};a.code2=t,a.code=e,a.svgXml=s,a.versionId=i,a.projectId=o;var n=new Array;$("#svgBoard rect[type='Measure']").each(function(){n[n.length]=$(this).attr("qi")}),a.meaarr=n.join(","),$(".NewConBtnBox button").attr("disabled","disabled"),$.ajax({url:base+"/QCode/running.json",data:a,cache:!1,type:"post",success:function(e){if(401==e.code)return window.location.href=e.message,!1;if(e.success){var i=e.obj,t=i.status,s=i.taskId,n=!1;if("3"==t){if(n)return;n=!0,setTimeout(function(){$("#myModa3").modal("hide"),$("#myModa2").modal("show");var e=JSON.parse(i.ans),s=e.key,o=e.value;setTimeout(function(){var e,t=CloudCLD.makeChart("taskResult");e=30<s.ansLength?{color:["#3398DB"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"10%",containLabel:!0},xAxis:[{type:"category",data:s,name:messages.celiangzhi,nameLocation:"middle",nameGap:35,axisTick:{alignWithLabel:!0}}],dataZoom:[{show:!0,startValue:0,endValue:30}],yAxis:[{type:"value",name:messages.gailv}],series:[{name:messages.gailv,type:"bar",barWidth:"30",data:o}]}:{color:["#3398DB"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"10%",containLabel:!0},xAxis:[{type:"category",data:s,name:messages.celiangzhi,nameLocation:"middle",nameGap:35,axisTick:{alignWithLabel:!0}}],dataZoom:[{show:!0,start:0,end:100}],yAxis:[{type:"value",name:messages.gailv}],series:[{name:messages.gailv,type:"bar",barWidth:"30",data:o}]},t.setOption(e),$("#startTime").html(messages.zhixingshijian+"："+i.startTime),$("#endTime").html(messages.end_time+"："+i.endTime)},1e3)},3e3)}else if("4"==t)noty({text:messages.task_status_syntactic_error,type:"error",dismissQueue:!0,layout:"topCenter",theme:"relax",timeout:1e3,callback:{afterClose:function(){window.location.href=base+"/QCode/index.html?projectId="+$("#projectId").val()+"&versionId="+$("#versionId").val()}}});else interval=setInterval(function(){var e={};e.taskId=s,$.ajax({url:base+"/QCode/getTaskRate.json",data:e,cache:!1,type:"post",success:function(e){if(401==e.code)return window.location.href=e.message,!1;if(e.success){var s=e.obj,t=s.status;if("3"==t){if(n)return;n=!0,$("#myModa3").modal("hide"),$("#myModa2").modal("show");var o=JSON.parse(s.ans),i=o.key,a=o.value;setTimeout(function(){var e,t=CloudCLD.makeChart("taskResult");e=30<i.ansLength?{color:["#3398DB"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"10%",containLabel:!0},xAxis:[{type:"category",data:i,name:messages.celiangzhi,nameLocation:"middle",nameGap:35,axisTick:{alignWithLabel:!0}}],dataZoom:[{show:!0,startValue:0,endValue:30}],yAxis:[{type:"value",name:messages.gailv}],series:[{name:messages.gailv,type:"bar",barWidth:"30",data:a}]}:{color:["#3398DB"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"10%",containLabel:!0},xAxis:[{type:"category",data:i,name:messages.celiangzhi,nameLocation:"middle",nameGap:35,axisTick:{alignWithLabel:!0}}],dataZoom:[{show:!0,start:0,end:100}],yAxis:[{type:"value",name:messages.gailv}],series:[{name:messages.gailv,type:"bar",barWidth:"30",data:a}]},t.setOption(e),$("#startTime").html(messages.zhixingshijian+"："+s.startTime),$("#endTime").html(messages.end_time+"："+s.endTime),clearInterval(interval)},1e3)}else if("4"==t)noty({text:messages.task_status_syntactic_error,type:"error",dismissQueue:!0,layout:"topCenter",theme:"relax",timeout:1e3,callback:{afterClose:function(){window.location.href=base+"/QCode/index.html?projectId="+$("#projectId").val()+"&versionId="+$("#versionId").val()}}})}else errorMsg(e.message),clearInterval(interval),$("#closeBtn").attr("style","display:block;")},error:function(){errorMsg(messages.server_is_busy)}})},5e3)}else $("#myModa3").modal("hide"),$(".NewConBtnBox button").attr("disabled",!1),errorMsg(e.message)},error:function(){$(".NewConBtnBox button").attr("disabled",!1),errorMsg(messages.server_is_busy)}})}$(".guide_close_box a").click(),$(".New_run").attr("style",""),setCookie("isNext","0"),setCookie("isTip","1"),setCookie("isCookie","0"),$.ajax("/QCode/updUser.json",{},function(){},"json")},visitorRunning:function(){var e={},t=trans2Code();t="CREG "+classicalbitNum+"\r\n"+t,t="QINIT "+qubitNum+"\r\n"+t;var s=getSvgXml();$("#flag").val(1),(e={}).code=t,e.svgXml=s;var o=new Array;$("#svgBoard rect[type='Measure']").each(function(){o[o.length]=$(this).attr("qi")}),e.meaarr=o.join(","),$.ajax({url:base+"/QCode/visitorRunning.json",data:e,cache:!1,type:"post",success:function(e){if(401==e.code)return window.location.href=e.message,!1;e.success?saveProject():($("#myModa3").modal("hide"),errorMsg(e.message))},error:function(){}})},makeChart:function(e){if(null!=fromAdmin&&"1"==fromAdmin)return prompt(messages.unauthorized_operation),!1;var t=document.getElementById(e),s=document.createElement("div"),o=document.body.clientWidth;return s.style.cssText=o+"px; height:400px",$("#"+e+":has(div)").length<2&&($("#"+e).html(""),t.appendChild(s)),echarts.init(s)},saveProjectVersion:function(){if(null!=fromAdmin&&"1"==fromAdmin)return prompt(messages.unauthorized_operation),!1;if(!isLogin())return!1;if(!isCase())return!1;if(!isSemi())return!1;var e={};e.code=$("#code").val(),$.ajax({url:base+"/QCode/saveProjectVersion.json",data:e,cache:!1,type:"post",success:function(e){if(401==e.code)return window.location.href=e.message,!1;if(e.success)noty({text:messages.new_version,type:"success",dismissQueue:!0,layout:"topCenter",theme:"relax",timeout:1e3,callback:{afterClose:function(){window.location.reload(!0)}}});else errorMsg(e.message)},error:function(){errorMsg(messages.server_is_busy)}})},saveProject:function(){if(null!=fromAdmin&&"1"==fromAdmin)return prompt(messages.unauthorized_operation),!1;if(!isLogin())return!1;var e,t,s={},o=$("#projectName").val(),i=$("#semi").val(),a=$("#typeId").val(),n=$("#desc").val(),l=$("#analogType").val();return t=3==a?(e=2,6):(e=$("#qubitNum").val(),$("#classicalbitNum").val()),""==o?(errorMsg(messages.project_name_not_null),!1):""==e?(errorMsg(messages.liangzishu_not_null),!1):""==t?(errorMsg(messages.biteshu_not_null),!1):(s.name=o,s.semi=i,s.desc=n,s.taskTypeId=a,s.qubitNum=e,s.classicalbitNum=t,s.analogType=l,void $.ajax({url:base+"/QCode/saveProject.json",data:s,cache:!1,type:"post",success:function(e){if(401==e.code)return window.location.href=e.message,!1;if(e.success)noty({text:messages.create_success,type:"success",dismissQueue:!0,layout:"topCenter",theme:"relax",timeout:1e3,callback:{afterClose:function(){$(".clear input").val(""),1!=getCookie("isTip")&&null!=getCookie("isTip")&&setCookie("isNext","1"),window.location.href=base+"/QCode/index.html"}}});else errorMsg(e.message),showsf()},error:function(){errorMsg(messages.server_is_busy)}}))},visitorSaveProject:function(){if(null!=fromAdmin&&"1"==fromAdmin)return prompt(messages.unauthorized_operation),!1;var e,t,s={},o=$("#projectName").val(),i=$("#semi").val(),a=$("#typeId").val(),n=$("#desc").val(),l=$("#analogType").val();return t=3==a?(e=2,6):(e=$("#qubitNum").val(),$("#classicalbitNum").val()),""==o?(errorMsg(messages.project_name_not_null),!1):""==e?(errorMsg(messages.liangzishu_not_null),!1):""==t?(errorMsg(messages.biteshu_not_null),!1):(s.name=o,s.semi=i,s.desc=n,s.taskTypeId=a,s.qubitNum=e,s.classicalbitNum=t,s.analogType=l,void $.ajax({url:base+"/QCode/visitorSaveProject.json",data:s,cache:!1,type:"post",success:function(e){if(401==e.code)return window.location.href=e.message,!1;if(e.success)noty({text:messages.create_success,type:"success",dismissQueue:!0,layout:"topCenter",theme:"relax",timeout:1e3,callback:{afterClose:function(){$(".clear input").val(""),1!=getCookie("isTip")&&null!=getCookie("isTip")&&setCookie("isNext","1"),window.location.href=base+"/QCode/index.html"}}});else errorMsg(e.message),showsf()},error:function(){errorMsg(messages.server_is_busy)}}))},showData:function(e){if(null!=fromAdmin&&"1"==fromAdmin)return prompt(messages.unauthorized_operation),!1;$("#taskResult").empty(),$("#myModa2").modal("show");var t={};t.id=e,$.ajax({url:base+"/QCode/getTaskData.json",data:t,cache:!1,type:"post",success:function(e){if(401==e.code)return window.location.href=e.message,!1;if(e.success){var s=e.obj,t=JSON.parse(s.ans),o=t.key,i=t.value;setTimeout(function(){var e,t=CloudCLD.makeChart("taskResult");e=30<o.ansLength?{color:["#3398DB"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"10%",containLabel:!0},xAxis:[{type:"category",data:o,name:messages.celiangzhi,nameLocation:"middle",nameGap:35,axisTick:{alignWithLabel:!0}}],dataZoom:[{show:!0,startValue:0,endValue:30}],yAxis:[{type:"value",name:messages.gailv}],series:[{name:messages.gailv,type:"bar",barWidth:"30",data:i}]}:{color:["#3398DB"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"10%",containLabel:!0},xAxis:[{type:"category",data:o,name:messages.celiangzhi,nameLocation:"middle",nameGap:35,axisTick:{alignWithLabel:!0}}],dataZoom:[{show:!0,start:0,end:100}],yAxis:[{type:"value",name:messages.gailv}],series:[{name:messages.gailv,type:"bar",barWidth:"30",data:i}]},t.setOption(e),$("#startTime").html(messages.zhixingshijian+"："+s.startTime),$("#endTime").html(messages.end_time+"："+s.endTime)},1e3)}else errorMsg(e.message)},error:function(){errorMsg(messages.server_is_busy)}})},openSave:function(){var e=this;return null!=fromAdmin&&"1"==fromAdmin?(prompt(messages.unauthorized_operation),!1):!!isLogin()&&($("#myModa4").modal("show"),void setTimeout(function(){$(".New_edit").attr("style",""),$(".guideId23").attr("style",""),setTimeout(function(){e.guideLocation(40,-175,-30,"auto","auto",-75,13,-48,24,".vectoring22")},300)},300))},updateProject:function(){if(null!=fromAdmin&&"1"==fromAdmin)return prompt(messages.unauthorized_operation),!1;if(!isLogin())return!1;if(!isCase())return!1;if(!isSemi())return!1;var e={},t=this,s=$("#projectId").val(),o=$("#updateRepeat").val();if(""==o)return errorMsg(messages.repert_not_null),!1;var i=$("#updateDesc").val();e.projectId=s,e.desc=i,e.repeat=o,$.ajax({url:base+"/QCode/updateProject.json",data:e,cache:!1,type:"post",success:function(e){if(401==e.code)return window.location.href=e.message,!1;if(e.success){$("#myModa4").hide();noty({text:messages.project_edit_success,type:"success",dismissQueue:!0,layout:"topCenter",theme:"relax",timeout:1e3,callback:{afterClose:function(){$("#projectDesc").html(i)}}})}else errorMsg(e.message),showsf()},error:function(){errorMsg(messages.server_is_busy)}}),0==getCookie("isTip")&&($(".guideId24").attr("style",""),setTimeout(function(){t.guideLocation(70,50,"auto","auto",-60,-88,13,-48,25,".New_run")},300))},openAdd:function(){var e=this;return null!=fromAdmin&&"1"==fromAdmin?(prompt(messages.unauthorized_operation),!1):!!isLogin()&&($("#myModal").modal("show"),$("#vectoring1").show().siblings().hide(),void(0==getCookie("isTip")&&($(".guideId1").attr("style",""),$(".New_add").attr("style",""),setTimeout(function(){e.guideLocation(75,-100,-30,"auto","auto",-50,13,-48,2,".first")},300))))},visitorAdd:function(){var e=this;if(null!=fromAdmin&&"1"==fromAdmin)return prompt(messages.unauthorized_operation),!1;$("#myModal").modal("show"),0==getCookie("isTip")&&($(".guideId1").attr("style",""),$(".New_add").attr("style",""),setTimeout(function(){e.guideLocation(75,-100,-30,"auto","auto",-50,13,-48,2,".first")},300))},getVersion:function(e){return null!=fromAdmin&&"1"==fromAdmin?(prompt(messages.unauthorized_operation),!1):!!isLogin()&&($(".loading-bg").show(),$(".loading").show(),void $.ajax({url:base+"/QCode/getVersion.json",data:{id:e},cache:!1,type:"post",success:function(e){if(401==e.code)return window.location.href=e.message,!1;if(e.success){var t=e.obj;setTimeout(function(){flagM=0,$(".loading").hide(),$(".loading-bg").hide(),$("#svgBoard").remove(),$("#code").val(t.code),CloudCLD.changeCode();var e=qcodeProjectName+"#"+t.createTime.substring(0,4)+t.createTime.substring(5,7)+t.createTime.substring(8,10)+t.createTime.substring(11,13)+t.createTime.substring(14,16)+" "+t.name;$(".project-text").html(e),$(".NewName").html(e),$("#versionId").val(t.id),$("[focus=true]").each(function(){$(this).attr("id")&&$(this).click()}),$(window).scrollTop(0)},1e3)}else errorMsg(e.message)},error:function(){errorMsg(messages.server_is_busy)}}))},delVersion:function(t){return null!=fromAdmin&&"1"==fromAdmin?(prompt(messages.unauthorized_operation),!1):!!isLogin()&&(!!isCase()&&(!!isSemi()&&void Dialog.confirm({title:Operating_instructions,message:messages.delete_version}).on(function(e){e&&$.ajax({url:base+"/QCode/delVersion.json",data:{id:t},cache:!1,type:"post",success:function(e){if(401==e.code)return window.location.href=e.message,!1;e.success?window.location.reload(!0):errorMsg(e.message)},error:function(){errorMsg(messages.server_is_busy)}})})))},delTask:function(t){return null!=fromAdmin&&"1"==fromAdmin?(prompt(messages.unauthorized_operation),!1):!!isLogin()&&(!!isCase()&&(!!isSemi()&&void Dialog.confirm({title:Operating_instructions,message:messages.delete_task}).on(function(e){e&&$.ajax({url:base+"/QCode/delTask.json",data:{id:t},cache:!1,type:"post",success:function(e){if(401==e.code)return window.location.href=e.message,!1;e.success?window.location.reload(!0):errorMsg(e.message)},error:function(){errorMsg(messages.server_is_busy)}})})))},terminateTask:function(e){return null!=fromAdmin&&"1"==fromAdmin?(prompt(messages.unauthorized_operation),!1):!!isLogin()&&(!!isCase()&&(!!isSemi()&&void(confirm(messages.terminate_task)&&$.ajax({url:base+"/QCode/terminateTask.json",data:{id:e},cache:!1,type:"post",success:function(e){if(401==e.code)return window.location.href=e.message,!1;e.success?window.location.reload(!0):errorMsg(e.message)},error:function(){errorMsg(messages.server_is_busy)}}))))},save:function(){if(null!=fromAdmin&&"1"==fromAdmin)return prompt(messages.unauthorized_operation),!1;if(!isLogin())return!1;if(!isCase())return!1;if(!isSemi())return!1;if(1==parseInt(tabIndex)&&0==code2Trans())return!1;var e=trans2Code();if(0==e)return!1;if(""==e)return errorMsg(messages.must_be_operated),!1;if(e="CREG "+classicalbitNum+"\r\n"+e,e="QINIT "+qubitNum+"\r\n"+e,0==parseInt(trans2CodeStatus))return errorMsg(messages.init_waiting),!1;var t=getSvgXml(),s=$("#projectId").val(),o=$("#versionId").val(),i={};i.projectId=s,i.versionId=o,i.code=e,i.svgXml=t,$(".NewConBtnBox button").attr("disabled","disabled"),$.ajax({url:base+"/QCode/save.json",data:i,cache:!1,type:"post",success:function(e){if(401==e.code)return window.location.href=e.message,!1;if(e.success)noty({text:messages.save_success,type:"success",dismissQueue:!0,layout:"topCenter",theme:"bootstrapTheme",timeout:1e3,callback:{afterClose:function(){window.location.reload(!0)}}});else $(".NewConBtnBox button").attr("disabled",!1),errorMsg(e.message)},error:function(){$(".NewConBtnBox button").attr("disabled",!1),errorMsg(messages.server_is_busy)}})},checkQubitNum:function(e){var t=$("#myModal  #analogType").val(),s=$("#myModal  #qubitNum").val();if(2==t?($("#qubitNum").val(6),$("#classicalbitNum").val(6),$("#qubitNum").attr("disabled","disabled"),$("#classicalbitNum").attr("disabled","disabled")):($("#qubitNum").val(),$("#qubitNum").removeAttr("disabled"),$("#classicalbitNum").removeAttr("disabled")),20<s)if("1"==userLevel)$("#qubitNum").val(20);else if("3"==userLevel)switch(t){case"0":$("#qubitNum").val(20);break;case"1":42<s&&$("#qubitNum").val(42)}else switch(t){case"0":$("#qubitNum").val(20);break;case"1":32<s&&$("#qubitNum").val(32)}},random:function(){var e=messages.first_click_icon,t=parseInt(3*Math.random()+1);1==t&&(e=messages.first_click_icon),2==t&&(e=messages.same_pro_diff_result),3==t&&(e=messages.real_liangzi),$("#randomValue").html(e)}};